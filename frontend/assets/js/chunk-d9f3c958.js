(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9f3c958"],{1148:function(t,e,n){"use strict";var a=n("a691"),r=n("1d80");t.exports="".repeat||function(t){var e=String(r(this)),n="",i=a(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},"14c3":function(t,e,n){var a=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},3368:function(t,e,n){"use strict";n("c016")},"408a":function(t,e,n){var a=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},"466d":function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),i=n("50c4"),o=n("1d80"),c=n("8aa5"),l=n("14c3");a("match",1,(function(t,e,n){return[function(e){var n=o(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,n):new RegExp(e)[t](String(n))},function(t){var a=n(e,t,this);if(a.done)return a.value;var o=r(t),s=String(this);if(!o.global)return l(o,s);var u=o.unicode;o.lastIndex=0;var d,f=[],h=0;while(null!==(d=l(o,s))){var v=String(d[0]);f[h]=v,""===v&&(o.lastIndex=c(s,i(o.lastIndex),u)),h++}return 0===h?null:f}]}))},"8aa5":function(t,e,n){"use strict";var a=n("6547").charAt;t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},9263:function(t,e,n){"use strict";var a=n("ad6d"),r=n("9f7f"),i=RegExp.prototype.exec,o=String.prototype.replace,c=i,l=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),s=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=l||u||s;d&&(c=function(t){var e,n,r,c,d=this,f=s&&d.sticky,h=a.call(d),v=d.source,m=0,p=t;return f&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),p=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(v="(?: "+v+")",p=" "+p,m++),n=new RegExp("^(?:"+v+")",h)),u&&(n=new RegExp("^"+v+"$(?!\\s)",h)),l&&(e=d.lastIndex),r=i.call(f?n:d,p),f?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:l&&r&&(d.lastIndex=d.global?r.index+r[0].length:e),u&&r&&r.length>1&&o.call(r[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(r[c]=void 0)})),r}),t.exports=c},"9f7f":function(t,e,n){"use strict";var a=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,n){"use strict";var a=n("23e7"),r=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var a=n("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b64b:function(t,e,n){var a=n("23e7"),r=n("7b0b"),i=n("df75"),o=n("d039"),c=o((function(){i(1)}));a({target:"Object",stat:!0,forced:c},{keys:function(t){return i(r(t))}})},b680:function(t,e,n){"use strict";var a=n("23e7"),r=n("a691"),i=n("408a"),o=n("1148"),c=n("d039"),l=1..toFixed,s=Math.floor,u=function(t,e,n){return 0===e?n:e%2===1?u(t,e-1,n*t):u(t*t,e/2,n)},d=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},f=function(t,e,n){var a=-1,r=n;while(++a<6)r+=e*t[a],t[a]=r%1e7,r=s(r/1e7)},h=function(t,e){var n=6,a=0;while(--n>=0)a+=t[n],t[n]=s(a/e),a=a%e*1e7},v=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var a=String(t[e]);n=""===n?a:n+o.call("0",7-a.length)+a}return n},m=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){l.call({})}));a({target:"Number",proto:!0,forced:m},{toFixed:function(t){var e,n,a,c,l=i(this),s=r(t),m=[0,0,0,0,0,0],p="",g="0";if(s<0||s>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(p="-",l=-l),l>1e-21)if(e=d(l*u(2,69,1))-69,n=e<0?l*u(2,-e,1):l/u(2,e,1),n*=4503599627370496,e=52-e,e>0){f(m,0,n),a=s;while(a>=7)f(m,1e7,0),a-=7;f(m,u(10,a,1),0),a=e-1;while(a>=23)h(m,1<<23),a-=23;h(m,1<<a),f(m,1,1),h(m,2),g=v(m)}else f(m,0,n),f(m,1<<-e,0),g=v(m)+o.call("0",s);return s>0?(c=g.length,g=p+(c<=s?"0."+o.call("0",s-c)+g:g.slice(0,c-s)+"."+g.slice(c-s))):g=p+g,g}})},c016:function(t,e,n){},d784:function(t,e,n){"use strict";n("ac1f");var a=n("6eeb"),r=n("d039"),i=n("b622"),o=n("9263"),c=n("9112"),l=i("species"),s=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=i("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),h=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var v=i(t),m=!r((function(){var e={};return e[v]=function(){return 7},7!=""[t](e)})),p=m&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return e=!0,null},n[v](""),!e}));if(!m||!p||"replace"===t&&(!s||!u||f)||"split"===t&&!h){var g=/./[v],b=n(v,""[t],(function(t,e,n,a,r){return e.exec===o?m&&!r?{done:!0,value:g.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),x=b[0],w=b[1];a(String.prototype,t,x),a(RegExp.prototype,v,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}d&&c(RegExp.prototype[v],"sham",!0)}},ddb5:function(t,e,n){},e40f:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ProjectFrame",{attrs:{index:"4"}},[n("CommitContribute")],1)],1)},r=[],i=n("5dff"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{width:"100%",padding:"20px",border:"1px solid #eaeefb","border-top":"none"}},[n("el-page-header",{attrs:{content:"commit维度分析"},on:{back:t.goBack}})],1),t._v(" "),n("div",{staticClass:"title"},[t._v("\n          14日内commit提交趋势\n      ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0==t.todayCommit,expression:"todayCommit==0"}],staticClass:"title",staticStyle:{width:"85%","background-color":"#F56C6C"}},[n("i",{staticClass:"el-icon-warning"}),t._v("提示:今日无提交!\n      ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0==t.yesterdayCommit,expression:"yesterdayCommit==0"}],staticClass:"title",staticStyle:{width:"85%","background-color":"#F56C6C"}},[n("i",{staticClass:"el-icon-warning"}),t._v("提示:昨日无提交!\n      ")]),t._v(" "),n("div",{staticClass:"cardlist"},[n("div",{staticClass:"card"},[n("div",{staticClass:"cardheader"},[t._v("每日commit平均值")]),t._v("\n              "+t._s(t.cut(t.avg))+"\n          ")]),t._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"cardheader"},[t._v("昨日commit")]),t._v("\n              "+t._s(t.yesterdayCommit)+"\n          ")]),t._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"cardheader"},[t._v("今日commit")]),t._v("\n              "+t._s(t.todayCommit)+"\n          ")])]),t._v(" "),n("div",{staticClass:"item",staticStyle:{height:"300px"},attrs:{id:"main"}}),t._v(" "),n("div",{staticClass:"title"},[t._v("\n          commit列表\n          "),n("el-button",{staticStyle:{float:"right"},on:{click:t.hideList}},[t._v(t._s(t.showTable?"收起":"展开"))])],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTable,expression:"showTable"}],staticClass:"item"},[t._v("\n          不符合commit title规范的commit将被以红色标出"),n("el-button",{on:{click:t.commitInfo}},[t._v("commit title规范是什么？")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data,"row-class-name":t.checkcommit}},[n("el-table-column",{attrs:{prop:"date",label:"提交日期",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"time",label:"提交时间",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"author",label:"git用户名"}}),t._v(" "),n("el-table-column",{attrs:{prop:"committer_name",label:"git账号名"}}),t._v(" "),n("el-table-column",{attrs:{prop:"title",label:"提交信息"}}),t._v(" "),n("el-table-column",{attrs:{prop:"file_changed",label:"修改文件",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{prop:"insertions",label:"增加行",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{prop:"deletions",label:"删除行",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{prop:"total",label:"总计",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{prop:"message",label:"说明"}})],1)],1)])},c=[],l=(n("b680"),n("466d"),n("ac1f"),n("b64b"),n("313e")),s={name:"CommitContribute",data:function(){return{data:[],showTable:!0,avg:0,recent:[]}},computed:{todayCommit:function(){return this.recent.length>=14&&this.recent[13]>0?this.recent[13]:0},yesterdayCommit:function(){return this.recent.length>=14&&this.recent[12]>0?this.recent[12]:0}},methods:{goBack:function(){this.$router.go(-1)},cut:function(t){return t.toFixed(3)},commitInfo:function(){this.$notify({title:"commit title规范",message:"commit title规范：\n格式：<type>: <subject>\n其中type应为以下值：feat/fix/docs/style/refactor/perf/test/chore\ncommit title的长度应该在5-80个字符之间"})},checkcommit:function(t){var e=t.row,n=t.rowIndex;if(e.title.length<5||e.title.length>80)return this.data[n]["message"]="title长度不符合规范","alert-row";var a=/^((feat)|(fix)|(docs)|(style)|(refactor)|(perf)|(test)|(chore)):.*$/,r=e.title.match(a);return null==r?(this.data[n]["message"]="不符合规定格式","alert-row"):""},hideList:function(){this.showTable=!this.showTable},getDateStr:function(t){var e=t.getFullYear(),n=t.getMonth()+1,a=t.getDate(),r=e+"-";return n<10?r=r+"0"+n:r+=n,r+="-",a<10?r=r+"0"+a:r+=a,r},generateChart:function(){for(var t={},e=[],n=[],a=0,r=0;r<this.data.length;r++)a++,this.data[r].date in t?t[this.data[r].date]++:t[this.data[r].date]=1;0!=t.length&&(this.avg=a/Object.keys(t).length),console.log("avg",this.avg);for(var i=13;i>=0;i--){var o=new Date;o=new Date(o.setDate(o.getDate()-i));var c=this.getDateStr(o);e.push(c),c in t?(this.recent.push(t[c]),n.push(t[c])):(n.push(0),this.recent.push(t[c]))}var s,u=document.getElementById("main"),d=l["a"](u);s={title:{text:"14日内commit趋势"},tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:e},yAxis:{type:"value",axisLabel:{formatter:"{value} "}},series:[{name:"commit数量",type:"line",data:n}]},s&&d.setOption(s)}},created:function(){var t=this;this.projectId=this.$route.params.projectid,this.$axios({method:"get",url:"api/projects/statistic/commit?id="+this.projectId}).then((function(e){t.data=e.data.data,console.log(t.data),t.generateChart()})).catch((function(t){console.log(t),401==t.response.status||alert("发生错误"),window.location.href="http://127.0.0.1:3333/login"}))}},u=s,d=(n("eec9"),n("3368"),n("2877")),f=Object(d["a"])(u,o,c,!1,null,null,null),h=f.exports,v={name:"CommitContributeView",components:{ProjectFrame:i["a"],CommitContribute:h},data:function(){return{projectId:this.$route.params.projectid}}},m=v,p=Object(d["a"])(m,a,r,!1,null,null,null);e["default"]=p.exports},eec9:function(t,e,n){"use strict";n("ddb5")}}]);