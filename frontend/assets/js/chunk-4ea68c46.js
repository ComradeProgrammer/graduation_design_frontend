(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ea68c46"],{"21ba":function(t,e,a){},b0c0:function(t,e,a){var n=a("83ab"),r=a("9bf2").f,i=Function.prototype,o=i.toString,s=/^\s*function ([^ (]*)/,l="name";n&&!(l in i)&&r(i,l,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},dd89:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ProjectFrame",{attrs:{index:"4"}},[a("LanguageContribute")],1)],1)},r=[],i=a("5dff"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{width:"100%",padding:"20px",border:"1px solid #eaeefb","border-top":"none"}},[a("el-page-header",{attrs:{content:"分语言维度分析"},on:{back:t.goBack}})],1),t._v(" "),a("el-alert",{staticStyle:{width:"92%",margin:"5px auto","font-size":"20px"},attrs:{title:"在本页面以git中的用户名进行分析",type:"warning",effect:"dark"}}),t._v(" "),a("div",{staticClass:"title"},[t._v("\n            语言列表\n        ")]),t._v(" "),a("el-alert",{staticStyle:{width:"88%",margin:"10px auto","font-size":"20px"},attrs:{title:"点击列表条目选择要查看的语言",type:"success",effect:"dark"}}),t._v(" "),a("div",{staticClass:"item"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.table,"highlight-current-row":""},on:{"current-change":t.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"name",label:"语言",width:"300"}}),t._v(" "),a("el-table-column",{attrs:{prop:"lines",label:"Gitlab用户名",width:"行数"}})],1)],1),t._v(" "),a("div",{staticClass:"title"},[t._v("\n            贡献结构\n        ")]),t._v(" "),t._m(0)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item"},[a("div",{staticStyle:{width:"60%",height:"300px",margin:"0 auto"},attrs:{id:"chart1"}})])}],l=(a("b0c0"),a("313e")),c={name:"LanguageContribute",data:function(){return{table:[],currentRow:{name:"",authors:{},lines:0}}},methods:{generateChartA:function(){var t,e=document.getElementById("chart1"),a=l["a"](e),n=[];for(var r in this.currentRow.authors)n.push({value:this.currentRow.authors[r],name:r});t={title:{text:this.currentRow.name+"贡献构成",subtext:"",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"",type:"pie",radius:"50%",data:n,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},t&&a.setOption(t)},goBack:function(){this.$router.go(-1)},generateLanguageTable:function(){for(var t in this.data.linesByLanguage){var e=t;""==t&&(e="other"),this.table.push({name:e,lines:this.data.linesByLanguage[t],authors:this.data.linesByLanguageByAuthor[t]})}console.log(this.table),0!=this.table.length&&(this.$refs.singleTable.setCurrentRow(this.table[0]),this.generateChartA())},handleCurrentChange:function(t){this.currentRow=t,console.log("handleCurrentChange"),console.log(t),this.generateChartA()}},created:function(){var t=this;this.projectId=this.$route.params.projectid,this.$axios({method:"get",url:"api/projects/statistic/language?id="+this.projectId}).then((function(e){t.data=e.data.data,console.log(t.data),t.generateLanguageTable()})).catch((function(t){console.log(t),401==t.response.status||alert("发生错误"),window.location.href="http://127.0.0.1:3333/login"}))}},u=c,h=(a("e7ac"),a("2877")),d=Object(h["a"])(u,o,s,!1,null,null,null),g=d.exports,f={name:"LanguageContributeView",components:{ProjectFrame:i["a"],LanguageContribute:g},data:function(){return{projectId:this.$route.params.projectid}}},p=f,b=Object(h["a"])(p,n,r,!1,null,null,null);e["default"]=b.exports},e7ac:function(t,e,a){"use strict";a("21ba")}}]);