(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-396008cc"],{"50b7":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ProjectFrame",{attrs:{index:"2"}},[i("Bug")],1)],1)},a=[],s=i("5dff"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"bugtitle",staticStyle:{"background-color":"#409eff"}},[t._v("\n        总计"+t._s(t.customData[0].length+t.customData[1].length+t.customData[2].length)+"个缺陷未完成，\n        （其中"),i("el-tag",{attrs:{type:"danger"}},[t._v("P0")]),t._v(t._s(t.customData[0].length)+"个\n        "),i("el-tag",{attrs:{type:"warning"}},[t._v("P1")]),t._v(t._s(t.customData[1].length)+"个\n        "),i("el-tag",[t._v("P2")]),t._v(t._s(t.customData[2].length)+"个）\n        ;\n        另有"+t._s(t.customData[3].length)+"个缺陷已经解决\n    ")],1),t._v(" "),i("div",{staticClass:"buttons"},[i("el-button",{attrs:{type:"primary"},on:{click:t.onCreateBugClick}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"15px"}}),t._v("\n            报告新的缺陷\n        ")])],1),t._v(" "),i("div",{staticClass:"bugtitle",staticStyle:{"background-color":"#303133"}},[t._v("未解决\n        ("+t._s(t.customData[0].length+t.customData[1].length+t.customData[2].length)+")\n    ")]),t._v(" "),i("div",{staticStyle:{margin:"0 auto",width:"95%"}},[i("div",{staticClass:"bugp0title"},[t._v("\n        P0等级缺陷("+t._s(t.customData[0].length)+")\n        ")]),t._v(" "),t._l(t.customData[0],(function(e){return i("div",{key:e.id,staticClass:"bugitem"},[i("el-tag",{attrs:{type:"danger"}},[t._v("P0")]),t._v("\n            缺陷:"+t._s(e.title)+"\n            "),i("div",{staticStyle:{display:"inline-block",float:"right"}},[i("el-button",{staticStyle:{float:"right"},attrs:{type:"warning"},on:{click:function(i){return t.gotoGitlab(e.web_url)}}},[t._v("前往gitlab查看")])],1),i("br"),t._v(" "),i("div",{staticClass:"bugtext"},[t._v("\n                描述:"+t._s(e.description)),i("br"),t._v("\n                计划Fix时间 "+t._s(e.due_date)+" \n            ")])],1)})),t._v(" "),i("div",{staticClass:"bugp1title"},[t._v("\n            P1等级缺陷("+t._s(t.customData[1].length)+")\n        ")]),t._v(" "),t._l(t.customData[1],(function(e){return i("div",{key:e.id,staticClass:"bugitem"},[i("el-tag",{attrs:{type:"warning"}},[t._v("P1")]),t._v("\n            缺陷:"+t._s(e.title)+"\n            "),i("div",{staticStyle:{display:"inline-block",float:"right"}},[i("el-button",{staticStyle:{float:"right"},attrs:{type:"warning"},on:{click:function(i){return t.gotoGitlab(e.web_url)}}},[t._v("前往gitlab查看")])],1),i("br"),t._v(" "),i("div",{staticClass:"bugtext"},[t._v("\n                描述:"+t._s(e.description)),i("br"),t._v("\n                计划Fix时间 "+t._s(e.due_date)+" \n            ")])],1)})),t._v(" "),i("div",{staticClass:"bugp2title"},[t._v("\n            P2等级缺陷("+t._s(t.customData[2].length)+")\n        ")]),t._v(" "),t._l(t.customData[2],(function(e){return i("div",{key:e.id,staticClass:"bugitem"},[i("el-tag",[t._v("P2")]),t._v("\n            缺陷:"+t._s(e.title)+"\n            "),i("div",{staticStyle:{display:"inline-block",float:"right"}},[i("el-button",{staticStyle:{float:"right"},attrs:{type:"warning"},on:{click:function(i){return t.gotoGitlab(e.web_url)}}},[t._v("前往gitlab查看")])],1),i("br"),t._v(" "),i("div",{staticClass:"bugtext"},[t._v("\n                描述:"+t._s(e.description)),i("br"),t._v("\n                计划Fix时间 "+t._s(e.due_date)+" \n            ")])],1)}))],2),t._v(" "),i("div",{staticClass:"bugtitle",staticStyle:{"background-color":"#67C23A"}},[t._v("已解决("+t._s(t.customData[3].length)+")")]),t._v(" "),i("div",{staticStyle:{margin:"0 auto",width:"95%"}},t._l(t.customData[3],(function(e){return i("div",{key:e.id,staticClass:"bugitem"},["P0"==t.getPriority(e)?i("el-tag",{attrs:{type:"danger"}},[t._v("P0")]):t._e(),t._v(" "),"P1"==t.getPriority(e)?i("el-tag",{attrs:{type:"warning"}},[t._v("P1")]):t._e(),t._v(" "),"P2"==t.getPriority(e)?i("el-tag",[t._v("P2")]):t._e(),t._v("\n            缺陷:"+t._s(e.title)+"\n            "),i("div",{staticStyle:{display:"inline-block",float:"right"}},[i("el-button",{staticStyle:{float:"right"},attrs:{type:"warning"},on:{click:function(i){return t.gotoGitlab(e.web_url)}}},[t._v("前往gitlab查看")])],1),i("br"),t._v(" "),i("div",{staticClass:"bugtext"},[t._v("\n                描述:"+t._s(e.description)),i("br"),t._v(" "),i("div",{staticClass:"bugtext"},[t._v("计划Fix时间 "+t._s(e.due_date)+"  实际修复时间 "+t._s(t.getTime(e.closed_at))+" ")])])],1)})),0)])},l=[],r={name:"Bug",data:function(){return{info:[],projectId:""}},created:function(){var t=this;this.projectId=this.$route.params.projectid,this.$axios({method:"get",url:"api/projects/issue/all?projectid="+this.projectId}).then((function(e){console.log(e.data),t.info=e.data,console.log(t.customData)})).catch((function(t){console.log(t),401==t.response.status||alert("发生错误"),window.location.href="http://127.0.0.1:3333/login"}))},methods:{onCreateBugClick:function(){this.$router.push("/project/"+this.projectId+"/createbug")},gotoGitlab:function(t){window.location.href=t},getTime:function(t){return t.substr(0,t.indexOf("T"))},getPriority:function(t){return t.labels.indexOf("P0")>-1?"P0":t.labels.indexOf("P1")>-1?"P1":t.labels.indexOf("P2")>-1?"P2":void 0}},computed:{customData:function(){for(var t=[[],[],[],[]],e=0;e<this.info.length;e++)this.info[e].labels.indexOf("bug")>-1&&("closed"==this.info[e].state?t[3].push(this.info[e]):this.info[e].labels.indexOf("P0")>-1?t[0].push(this.info[e]):this.info[e].labels.indexOf("P1")>-1?t[1].push(this.info[e]):this.info[e].labels.indexOf("P2")>-1&&t[2].push(this.info[e]));return t}}},c=r,u=(i("814c"),i("2877")),d=Object(u["a"])(c,o,l,!1,null,"1b09f642",null),_=d.exports,v={name:"ProjectBug",components:{ProjectFrame:s["a"],Bug:_},data:function(){return{projectId:this.$route.params.projectid}}},g=v,p=Object(u["a"])(g,n,a,!1,null,null,null);e["default"]=p.exports},"5dff":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("MyHeader",{attrs:{title:"软工质量平台",avatar:""}}),t._v(" "),i("el-row",[i("el-col",{attrs:{span:4}},[i("div",[i("el-menu",{attrs:{"default-active":t.index},on:{select:t.handleSelect}},[i("el-menu-item",{attrs:{index:"1"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("需求看板")]},proxy:!0}])},[i("i",{staticClass:"el-icon-s-flag"})]),t._v(" "),i("el-menu-item",{attrs:{index:"2"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("缺陷看板")]},proxy:!0}])},[i("i",{staticClass:"el-icon-error"})]),t._v(" "),i("el-menu-item",{attrs:{index:"3"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("CI看板")]},proxy:!0}])},[i("i",{staticClass:"el-icon-data-analysis"})]),t._v(" "),i("el-menu-item",{attrs:{index:"4"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("贡献统计")]},proxy:!0}])},[i("i",{staticClass:"el-icon-warning"})])],1)],1)]),t._v(" "),i("el-col",{attrs:{span:20}},[i("div",{staticStyle:{height:"10px"}}),t._v(" "),t._t("default")],2)],1)],1)},a=[],s=i("9839"),o={name:"ProjectFrame",props:["index"],components:{MyHeader:s["a"]},data:function(){return{projectId:""}},methods:{handleSelect:function(t,e){switch(console.log(t,e),t){case"1":this.$router.push("/project/"+this.projectId);break;case"2":this.$router.push("/project/"+this.projectId+"/bug");break;case"3":this.$router.push("/project/"+this.projectId+"/quality");break;case"4":this.$router.push("/project/"+this.projectId+"/contribute");break;default:console.log("unhandled index")}}},created:function(){this.projectId=this.$route.params.projectid}},l=o,r=i("2877"),c=Object(r["a"])(l,n,a,!1,null,null,null);e["a"]=c.exports},"814c":function(t,e,i){"use strict";i("c10a")},c10a:function(t,e,i){}}]);