(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0813f04e"],{"057f":function(t,e,i){var r=i("fc6a"),n=i("241c").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return n(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?s(t):n(r(t))}},2402:function(t,e,i){"use strict";i("a98d")},"5dff":function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("MyHeader",{attrs:{title:"软工质量平台",avatar:""}}),t._v(" "),i("el-row",[i("el-col",{attrs:{span:4}},[i("div",[i("el-menu",{attrs:{"default-active":t.index},on:{select:t.handleSelect}},[i("el-menu-item",{attrs:{index:"1"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("需求看板")]},proxy:!0}])},[i("i",{staticClass:"el-icon-s-flag"})]),t._v(" "),i("el-menu-item",{attrs:{index:"2"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("缺陷看板")]},proxy:!0}])},[i("i",{staticClass:"el-icon-error"})]),t._v(" "),i("el-menu-item",{attrs:{index:"3"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("CI看板")]},proxy:!0}])},[i("i",{staticClass:"el-icon-data-analysis"})]),t._v(" "),i("el-menu-item",{attrs:{index:"4"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("贡献统计")]},proxy:!0}])},[i("i",{staticClass:"el-icon-warning"})])],1)],1)]),t._v(" "),i("el-col",{attrs:{span:20}},[i("div",{staticStyle:{height:"10px"}}),t._v(" "),t._t("default")],2)],1)],1)},n=[],a=i("9839"),o={name:"ProjectFrame",props:["index"],components:{MyHeader:a["a"]},data:function(){return{projectId:""}},methods:{handleSelect:function(t,e){switch(console.log(t,e),t){case"1":this.$router.push("/project/"+this.projectId);break;case"2":this.$router.push("/project/"+this.projectId+"/bug");break;case"3":this.$router.push("/project/"+this.projectId+"/quality");break;case"4":this.$router.push("/project/"+this.projectId+"/contribute");break;default:console.log("unhandled index")}}},created:function(){this.projectId=this.$route.params.projectid}},s=o,c=i("2877"),l=Object(c["a"])(s,r,n,!1,null,null,null);e["a"]=l.exports},"65f0":function(t,e,i){var r=i("861d"),n=i("e8b5"),a=i("b622"),o=a("species");t.exports=function(t,e){var i;return n(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?r(i)&&(i=i[o],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},"746f":function(t,e,i){var r=i("428f"),n=i("5135"),a=i("e538"),o=i("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});n(e,t)||o(e,t,{value:a.f(t)})}},a4d3:function(t,e,i){"use strict";var r=i("23e7"),n=i("da84"),a=i("d066"),o=i("c430"),s=i("83ab"),c=i("4930"),l=i("fdbf"),u=i("d039"),d=i("5135"),f=i("e8b5"),p=i("861d"),v=i("825a"),m=i("7b0b"),h=i("fc6a"),y=i("c04e"),b=i("5c6c"),g=i("7c73"),_=i("df75"),w=i("241c"),S=i("057f"),x=i("7418"),j=i("06cf"),k=i("9bf2"),I=i("d1e7"),O=i("9112"),C=i("6eeb"),D=i("5692"),P=i("f772"),$=i("d012"),N=i("90e3"),T=i("b622"),E=i("e538"),F=i("746f"),M=i("d44e"),A=i("69f3"),J=i("b727").forEach,H=P("hidden"),q="Symbol",B="prototype",Q=T("toPrimitive"),W=A.set,Y=A.getterFor(q),z=Object[B],G=n.Symbol,K=a("JSON","stringify"),L=j.f,R=k.f,U=S.f,V=I.f,X=D("symbols"),Z=D("op-symbols"),tt=D("string-to-symbol-registry"),et=D("symbol-to-string-registry"),it=D("wks"),rt=n.QObject,nt=!rt||!rt[B]||!rt[B].findChild,at=s&&u((function(){return 7!=g(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(t,e,i){var r=L(z,e);r&&delete z[e],R(t,e,i),r&&t!==z&&R(z,e,r)}:R,ot=function(t,e){var i=X[t]=g(G[B]);return W(i,{type:q,tag:t,description:e}),s||(i.description=e),i},st=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof G},ct=function(t,e,i){t===z&&ct(Z,e,i),v(t);var r=y(e,!0);return v(i),d(X,r)?(i.enumerable?(d(t,H)&&t[H][r]&&(t[H][r]=!1),i=g(i,{enumerable:b(0,!1)})):(d(t,H)||R(t,H,b(1,{})),t[H][r]=!0),at(t,r,i)):R(t,r,i)},lt=function(t,e){v(t);var i=h(e),r=_(i).concat(vt(i));return J(r,(function(e){s&&!dt.call(i,e)||ct(t,e,i[e])})),t},ut=function(t,e){return void 0===e?g(t):lt(g(t),e)},dt=function(t){var e=y(t,!0),i=V.call(this,e);return!(this===z&&d(X,e)&&!d(Z,e))&&(!(i||!d(this,e)||!d(X,e)||d(this,H)&&this[H][e])||i)},ft=function(t,e){var i=h(t),r=y(e,!0);if(i!==z||!d(X,r)||d(Z,r)){var n=L(i,r);return!n||!d(X,r)||d(i,H)&&i[H][r]||(n.enumerable=!0),n}},pt=function(t){var e=U(h(t)),i=[];return J(e,(function(t){d(X,t)||d($,t)||i.push(t)})),i},vt=function(t){var e=t===z,i=U(e?Z:h(t)),r=[];return J(i,(function(t){!d(X,t)||e&&!d(z,t)||r.push(X[t])})),r};if(c||(G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=N(t),i=function(t){this===z&&i.call(Z,t),d(this,H)&&d(this[H],e)&&(this[H][e]=!1),at(this,e,b(1,t))};return s&&nt&&at(z,e,{configurable:!0,set:i}),ot(e,t)},C(G[B],"toString",(function(){return Y(this).tag})),C(G,"withoutSetter",(function(t){return ot(N(t),t)})),I.f=dt,k.f=ct,j.f=ft,w.f=S.f=pt,x.f=vt,E.f=function(t){return ot(T(t),t)},s&&(R(G[B],"description",{configurable:!0,get:function(){return Y(this).description}}),o||C(z,"propertyIsEnumerable",dt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:G}),J(_(it),(function(t){F(t)})),r({target:q,stat:!0,forced:!c},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var i=G(e);return tt[e]=i,et[i]=e,i},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:ft}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pt,getOwnPropertySymbols:vt}),r({target:"Object",stat:!0,forced:u((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(m(t))}}),K){var mt=!c||u((function(){var t=G();return"[null]"!=K([t])||"{}"!=K({a:t})||"{}"!=K(Object(t))}));r({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,i){var r,n=[t],a=1;while(arguments.length>a)n.push(arguments[a++]);if(r=e,(p(e)||void 0!==t)&&!st(t))return f(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!st(e))return e}),n[1]=e,K.apply(null,n)}})}G[B][Q]||O(G[B],Q,G[B].valueOf),M(G,q),$[H]=!0},a98d:function(t,e,i){},b727:function(t,e,i){var r=i("0366"),n=i("44ad"),a=i("7b0b"),o=i("50c4"),s=i("65f0"),c=[].push,l=function(t){var e=1==t,i=2==t,l=3==t,u=4==t,d=6==t,f=7==t,p=5==t||d;return function(v,m,h,y){for(var b,g,_=a(v),w=n(_),S=r(m,h,3),x=o(w.length),j=0,k=y||s,I=e?k(v,x):i||f?k(v,0):void 0;x>j;j++)if((p||j in w)&&(b=w[j],g=S(b,j,_),t))if(e)I[j]=g;else if(g)switch(t){case 3:return!0;case 5:return b;case 6:return j;case 2:c.call(I,b)}else switch(t){case 4:return!1;case 7:c.call(I,b)}return d?-1:l||u?u:I}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},e01a:function(t,e,i){"use strict";var r=i("23e7"),n=i("83ab"),a=i("da84"),o=i("5135"),s=i("861d"),c=i("9bf2").f,l=i("e893"),u=a.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(f,u);var p=f.prototype=u.prototype;p.constructor=f;var v=p.toString,m="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=v.call(t);if(o(d,t))return"";var i=m?e.slice(7,-1):e.replace(h,"$1");return""===i?void 0:i}}),r({global:!0,forced:!0},{Symbol:f})}},e538:function(t,e,i){var r=i("b622");e.f=r},e8b5:function(t,e,i){var r=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},f3d3:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ProjectFrame",{attrs:{index:"2"}},[i("div",{attrs:{id:"createmilestonetitle"}},[t._v("\n            报告缺陷\n        ")]),t._v(" "),i("div",{attrs:{id:"createmilestoneform"}},[i("div",{staticClass:"formitem"},[t._v("\n                缺陷标题\n                "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.validTitle,expression:"!validTitle"}],staticClass:"createalert",staticStyle:{margin:"5px"}},[t._v("\n                    *缺陷标题不能为空\n                ")]),t._v(" "),i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),i("div",{staticClass:"formitem"},[t._v("\n               缺陷描述\n                "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.validDescription,expression:"!validDescription"}],staticClass:"createalert",staticStyle:{margin:"5px"}},[t._v("\n                    *缺陷描述不能为空\n                ")]),t._v(" "),i("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),t._v(" "),i("div",{staticClass:"formitem"},[t._v("\n               缺陷开始修复时间　　\n                "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.validStartDate,expression:"!validStartDate"}],staticClass:"createalert",staticStyle:{margin:"5px",display:"inline-block"}},[t._v("\n                    *缺陷开始修复时间不能为空\n                ")]),t._v(" "),i("br"),t._v(" "),i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:t.startdate,callback:function(e){t.startdate=e},expression:"startdate"}}),t._v("\n                "+t._s(t.startdate)+"\n            ")],1),t._v(" "),i("div",{staticClass:"formitem"},[t._v("\n               缺陷修复结束结束时间\n                "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.validDueDate,expression:"!validDueDate"}],staticClass:"createalert",staticStyle:{margin:"5px",display:"inline-block"}},[t._v("\n                    *缺陷修复结束时间不能为空\n                ")]),t._v(" "),i("br"),t._v(" "),i("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp"},model:{value:t.duedate,callback:function(e){t.duedate=e},expression:"duedate"}})],1),t._v(" "),i("div",{staticClass:"formitem"},[t._v("\n                缺陷优先级\n                "),i("el-radio",{attrs:{label:"P0"},model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}},[i("el-tag",{attrs:{type:"danger"}},[t._v("P0")])],1),t._v(" "),i("el-radio",{attrs:{label:"P1"},model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}},[i("el-tag",{attrs:{type:"warning"}},[t._v("P1")])],1),t._v(" "),i("el-radio",{attrs:{label:"P2"},model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}},[i("el-tag",[t._v("P2")])],1)],1),t._v(" "),i("div",{staticClass:"formitem"},[t._v("\n                缺陷所属的阶段性需求\n                "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.validMilestone,expression:"!validMilestone"}],staticClass:"createalert",staticStyle:{margin:"5px",display:"inline-block"}},[t._v("\n                    *缺陷所属的阶段性需求不能为空\n                ")]),t._v(" "),i("br"),t._v(" "),i("el-select",{attrs:{placeholder:"请选择缺陷所属的阶段性需求"},model:{value:t.milestoneId,callback:function(e){t.milestoneId=e},expression:"milestoneId"}},t._l(t.info,(function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1),t._v(" "),i("div",{staticClass:"formitem"},[i("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.onSubmit}},[t._v("提交")])],1)])])],1)},n=[],a=(i("a4d3"),i("e01a"),i("5dff")),o={name:"CreateBug",components:{ProjectFrame:a["a"]},data:function(){return{projectId:"",milestoneId:"",title:"",description:"",startdate:"",duedate:"",priority:"P0",info:{}}},created:function(){var t=this;this.projectId=this.$route.params.projectid,this.$axios({method:"get",url:"api/projects/milestone/all?projectid="+this.projectId}).then((function(e){t.info=e.data})).catch((function(t){console.log(t),401==t.response.status||alert("发生错误"),window.location.href="http://127.0.0.1:3333/login"}))},computed:{validTitle:function(){return""!=this.title},validDescription:function(){return""!=this.description},validStartDate:function(){return""!=this.startdate},validDueDate:function(){return""!=this.duedate},validMilestone:function(){return""!=this.milestoneId},disabled:function(){return!(this.validTitle&&this.validDescription&&this.validStartDate&&this.validDueDate)}},methods:{formatTime:function(t){var e=t.getFullYear()+"",i=parseInt(t.getMonth()),r=i>9?i+1+"":"0"+(i+1),n=parseInt(t.getDate()),a=n>10?""+n:"0"+n;return e+"-"+r+"-"+a},onSubmit:function(){var t=this;this.$axios({url:"/api/projects/milestone/issue/create",method:"post",headers:{"Content-Type":"application/json"},data:JSON.stringify({project_id:parseInt(this.projectId),milestone_id:parseInt(this.milestoneId),title:this.title,description:this.description,start_date:this.formatTime(new Date(this.startdate)),due_date:this.formatTime(new Date(this.duedate)),type_tag:"bug",priority_tag:this.priority})}).then((function(e){console.log(e),t.$router.push("/project/"+t.projectId+"/bug")})).catch((function(t){console.log(t.response),401==t.response.status||alert("发生错误"),window.location.href="http://127.0.0.1:3333/login"}))}}},s=o,c=(i("2402"),i("2877")),l=Object(c["a"])(s,r,n,!1,null,null,null);e["default"]=l.exports}}]);