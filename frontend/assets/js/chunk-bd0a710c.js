(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bd0a710c"],{"4bec":function(t,e,n){},"5dff":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("MyHeader",{attrs:{title:"软工质量平台",avatar:""}}),t._v(" "),n("el-row",[n("el-col",{attrs:{span:4}},[n("div",[n("el-menu",{attrs:{"default-active":t.index},on:{select:t.handleSelect}},[n("el-menu-item",{attrs:{index:"1"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("需求看板")]},proxy:!0}])},[n("i",{staticClass:"el-icon-s-flag"})]),t._v(" "),n("el-menu-item",{attrs:{index:"2"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("缺陷看板")]},proxy:!0}])},[n("i",{staticClass:"el-icon-error"})]),t._v(" "),n("el-menu-item",{attrs:{index:"3"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("CI看板")]},proxy:!0}])},[n("i",{staticClass:"el-icon-data-analysis"})]),t._v(" "),n("el-menu-item",{attrs:{index:"4"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("贡献统计")]},proxy:!0}])},[n("i",{staticClass:"el-icon-warning"})])],1)],1)]),t._v(" "),n("el-col",{attrs:{span:20}},[n("div",{staticStyle:{height:"10px"}}),t._v(" "),t._t("default")],2)],1)],1)},i=[],a=n("9839"),r={name:"ProjectFrame",props:["index"],components:{MyHeader:a["a"]},data:function(){return{projectId:""}},methods:{handleSelect:function(t,e){switch(console.log(t,e),t){case"1":this.$router.push("/project/"+this.projectId);break;case"2":this.$router.push("/project/"+this.projectId+"/bug");break;case"3":this.$router.push("/project/"+this.projectId+"/quality");break;case"4":this.$router.push("/project/"+this.projectId+"/contribute");break;default:console.log("unhandled index")}}},created:function(){this.projectId=this.$route.params.projectid}},s=r,l=n("2877"),c=Object(l["a"])(s,o,i,!1,null,null,null);e["a"]=c.exports},9284:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ProjectFrame",{attrs:{index:"3"}},[n("RegexSetting")],1)},i=[],a=n("5dff"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"qualitytitle",staticStyle:{"background-color":"#409eff"}},[t._v("检测规则配置")]),t._v(" "),n("el-button",{staticStyle:{"margin-left":"6.5%"},attrs:{type:"primary"},on:{click:t.onCreateClick}},[n("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"15px"}}),t._v("\n         "+t._s(t.inputShow?"收起创建列表":"新建规则")+"\n    ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.inputShow,expression:"inputShow"}],staticClass:"qualityitem",staticStyle:{"padding-top":"15px"}},[n("el-form",{attrs:{"label-width":"100px"}},[n("el-form-item",{attrs:{label:"检查项名称"}},[n("el-input",{model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"正则表达式"}},[n("el-input",{model:{value:t.regex,callback:function(e){t.regex=e},expression:"regex"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"检查项类型"}},[n("el-radio",{attrs:{label:"coverage"},model:{value:t.regextype,callback:function(e){t.regextype=e},expression:"regextype"}},[t._v("覆盖率测试规则")]),t._v(" "),n("el-radio",{attrs:{label:"lint"},model:{value:t.regextype,callback:function(e){t.regextype=e},expression:"regextype"}},[t._v("代码风格测试规则")])],1),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("创建检查项")])],1)],1),t._v(" "),n("div",{staticClass:"qualityitem",staticStyle:{"background-color":"#606266",color:"white"}},[t._v("\n        现有覆盖率检测规则\n    ")]),t._v(" "),t._l(t.data.coverage,(function(e){return n("div",{key:e.id,staticClass:"qualityitem"},[n("el-button",{staticStyle:{float:"right"},attrs:{type:"danger"},on:{click:function(n){return t.onDelete(e.id)}}},[t._v("删除")]),t._v("\n        检查项:"+t._s(e.comment)),n("br"),t._v(" "),n("i",{staticClass:"regtext"},[t._v('正则表达式:"'+t._s(e.regex)+'"')])],1)})),t._v(" "),n("div",{staticClass:"qualityitem",staticStyle:{"background-color":"#606266",color:"white"}},[t._v("\n        现有代码风格问题检测规则\n    ")]),t._v(" "),t._l(t.data.lint,(function(e){return n("div",{key:e.id,staticClass:"qualityitem"},[n("el-button",{staticStyle:{float:"right"},attrs:{type:"danger"},on:{click:function(n){return t.onDelete(e.id)}}},[t._v("删除")]),t._v("\n        检查项:"+t._s(e.comment)),n("br"),t._v(" "),n("i",{staticClass:"regtext"},[t._v('正则表达式:"'+t._s(e.regex)+'"')])],1)}))],2)},s=[],l={name:"RegexSetting",data:function(){return{data:{coverage:[],lint:[]},regextype:"coverage",inputShow:!1,projectId:"",regex:"",comment:""}},created:function(){var t=this;this.projectId=this.$route.params.projectid,this.$axios({method:"get",url:"/api/projects/regex/all?projectid="+this.projectId}).then((function(e){console.log(e.data.data),t.data=e.data.data})).catch((function(t){console.log(t),401==t.response.status||alert("发生错误"),window.location.href="http://127.0.0.1:3333/login"}))},methods:{onCreateClick:function(){this.inputShow=!this.inputShow},onSubmit:function(){var t=this;this.$axios({url:"/api/projects/regex/create",method:"post",headers:{"Content-Type":"application/json"},data:JSON.stringify({project_id:parseInt(this.projectId),regex:this.regex,regex_type:this.regextype,comment:this.comment})}).then((function(e){console.log(e),t.$router.go(0)})).catch((function(t){console.log(t.response),401==t.response.status||alert("发生错误"),window.location.href="http://127.0.0.1:3333/login"}))},onDelete:function(t){var e=this;this.$axios({url:"/api/projects/regex/delete?regexid="+t,method:"get"}).then((function(t){console.log(t),e.$router.go(0)})).catch((function(t){console.log(t.response),401==t.response.status||alert("发生错误"),window.location.href="http://127.0.0.1:3333/login"}))}}},c=l,u=(n("e82a"),n("2877")),p=Object(u["a"])(c,r,s,!1,null,"7bbdfce2",null),d=p.exports,h={name:"SetRegex",components:{ProjectFrame:a["a"],RegexSetting:d}},m=h,v=Object(u["a"])(m,o,i,!1,null,null,null);e["default"]=v.exports},e82a:function(t,e,n){"use strict";n("4bec")}}]);