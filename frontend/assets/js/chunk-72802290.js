(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72802290"],{"23b5":function(t,e,a){"use strict";a("9779")},"5dff":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("MyHeader",{attrs:{title:"软工质量平台",avatar:""}}),t._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("div",[a("el-menu",{attrs:{"default-active":t.index},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{index:"1"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("需求看板")]},proxy:!0}])},[a("i",{staticClass:"el-icon-s-flag"})]),t._v(" "),a("el-menu-item",{attrs:{index:"2"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("缺陷看板")]},proxy:!0}])},[a("i",{staticClass:"el-icon-error"})]),t._v(" "),a("el-menu-item",{attrs:{index:"3"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("CI看板")]},proxy:!0}])},[a("i",{staticClass:"el-icon-data-analysis"})]),t._v(" "),a("el-menu-item",{attrs:{index:"4"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("贡献统计")]},proxy:!0}])},[a("i",{staticClass:"el-icon-warning"})])],1)],1)]),t._v(" "),a("el-col",{attrs:{span:20}},[a("div",{staticStyle:{height:"10px"}}),t._v(" "),t._t("default")],2)],1)],1)},i=[],n=a("9839"),c={name:"ProjectFrame",props:["index"],components:{MyHeader:n["a"]},data:function(){return{projectId:""}},methods:{handleSelect:function(t,e){switch(console.log(t,e),t){case"1":this.$router.push("/project/"+this.projectId);break;case"2":this.$router.push("/project/"+this.projectId+"/bug");break;case"3":this.$router.push("/project/"+this.projectId+"/quality");break;case"4":this.$router.push("/project/"+this.projectId+"/contribute");break;default:console.log("unhandled index")}}},created:function(){this.projectId=this.$route.params.projectid}},o=c,r=a("2877"),l=Object(r["a"])(o,s,i,!1,null,null,null);e["a"]=l.exports},9779:function(t,e,a){},a912:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ProjectFrame",{attrs:{index:"3"}},[a("Quality")],1)],1)},i=[],n=a("5dff"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"buttons"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onGotoSettingClick}},[a("i",{staticClass:"el-icon-s-tools",staticStyle:{"font-size":"15px"}}),t._v("\n            配置检查项\n        ")])],1),t._v(" "),[a("div",{directives:[{name:"show",rawName:"v-show",value:t.data.build,expression:"data.build"}],staticClass:"qualitytitle",staticStyle:{"background-color":"#67c23a"}},[a("i",{staticClass:"el-icon-check"}),t._v("代码构建:成功\n        ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.data.build,expression:"!data.build"}],staticClass:"qualitytitle",staticStyle:{"background-color":"#f56c6c"}},[a("i",{staticClass:"el-icon-close"}),t._v("代码构建:失败\n        ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.data.test,expression:"data.test"}],staticClass:"qualitytitle",staticStyle:{"background-color":"#67c23a"}},[a("i",{staticClass:"el-icon-check"}),t._v("单元测试:成功\n        ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.data.test,expression:"!data.test"}],staticClass:"qualitytitle",staticStyle:{"background-color":"#f56c6c"}},[a("i",{staticClass:"el-icon-close"}),t._v("单元测试:失败\n        ")]),t._v(" "),t._m(0),t._v(" "),t._l(t.data.coverage,(function(e,s){return a("div",{key:s,staticClass:"qualityitem"},[t._v("\n            检查项:"+t._s(e.description.comment)+"\n            "),a("i",{staticClass:"bugtext"},[t._v('正则表达式:"'+t._s(e.description.regex)+'"')]),a("br"),t._v("\n            检查结果"),a("br"),t._v(" "),t._l(e.res,(function(e,s){return a("i",{key:s,staticClass:"bugtext"},[t._v('\n                "'+t._s(e)+'"'),a("br")])}))],2)})),t._v(" "),t._m(1),t._v(" "),t._l(t.data.lint,(function(e,s){return a("div",{key:-s-1,staticClass:"qualityitem"},[t._v("\n            检查项:"+t._s(e.description.comment)+"\n            "),a("i",{staticClass:"bugtext"},[t._v('正则表达式:"'+t._s(e.description.regex)+'"')]),a("br"),t._v("\n            检查结果:检测到"+t._s(e.res.length)+"个问题"),a("br"),t._v(" "),t._l(e.res,(function(e,s){return a("i",{key:s,staticClass:"bugtext"},[t._v('\n                "'+t._s(e)+'"'),a("br")])}))],2)}))],t._v(" "),[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.data.build,expression:"!data.build"}],staticClass:"qualitytitle",staticStyle:{"background-color":"#606266"}},[a("i",{staticClass:"el-icon-info"}),t._v("\n            当前主分支有正在运行中的CI-PIPELINE,请稍后再来查询\n        ")])]],2)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"qualitytitle",staticStyle:{"background-color":"#409eff"}},[a("i",{staticClass:"el-icon-info"}),t._v("单元测试覆盖检测项\n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"qualitytitle",staticStyle:{"background-color":"#409eff"}},[a("i",{staticClass:"el-icon-info"}),t._v("代码风格检测项\n        ")])}],r={name:"Quality",data:function(){return{projectId:"",data:{}}},computed:{hasResult:function(){return"created"!=this.data.status&&"waiting_for_resource"!=this.data.status&&"preparing"!=this.data.status&&"running"!=this.data.status}},methods:{onGotoSettingClick:function(){this.$router.push("/project/"+this.projectId+"/quality/setting")}},created:function(){var t=this;this.projectId=this.$route.params.projectid,this.$axios({method:"get",url:"api/projects/quality?projectid="+this.projectId}).then((function(e){console.log(e.data.data),t.data=e.data.data,console.log(t.data.build)})).catch((function(t){console.log(t),401==t.response.status||alert("发生错误"),window.location.href="http://127.0.0.1:3333/login"}))}},l=r,u=(a("23b5"),a("2877")),d=Object(u["a"])(l,c,o,!1,null,"78d06c53",null),v=d.exports,p={name:"ProjectQuality",components:{ProjectFrame:n["a"],Quality:v}},_=p,h=Object(u["a"])(_,s,i,!1,null,null,null);e["default"]=h.exports}}]);